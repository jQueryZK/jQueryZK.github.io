{
    "version": "https://jsonfeed.org/version/1",
    "title": "jQueryZK Blog • All posts by \"哈希函数\" tag",
    "description": "过去无法挽回，未来可以改变",
    "home_page_url": "http://yoursite.com",
    "items": [
        {
            "id": "http://yoursite.com/2020/09/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%88Java%E5%AE%9E%E7%8E%B0%EF%BC%89-%E8%AF%A6%E8%B0%88%E5%93%88%E5%B8%8C%E8%A1%A8(Hash%20Table)/",
            "url": "http://yoursite.com/2020/09/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%88Java%E5%AE%9E%E7%8E%B0%EF%BC%89-%E8%AF%A6%E8%B0%88%E5%93%88%E5%B8%8C%E8%A1%A8(Hash%20Table)/",
            "title": "数据结构（Java实现）-详谈哈希表(Hash Table)",
            "date_published": "2020-09-10T08:28:30.810Z",
            "content_html": "<h1 id=\"1、哈希表介绍\"><a href=\"#1、哈希表介绍\" class=\"headerlink\" title=\"1、哈希表介绍\"></a>1、哈希表介绍</h1><p>散列表（Hash table，也叫哈希表），是根据<strong>关键码值(Key value)**而</strong>直接进行访问<strong>的</strong>数据结构**。也就是说，它通过把关键码值映射到表中一个位置来访问记录，以加快查找的速度。这个映射函数叫做散列函数，存放记录的数组叫做散列表。</p>\n<p>（<font color=red>哈希表的底层是数组</font>）<br>实现哈希表的两种方法：<br>1、数组+链表<br>2、数组+红黑二叉树</p>\n<h1 id=\"2、哈希函数H（k）\"><a href=\"#2、哈希函数H（k）\" class=\"headerlink\" title=\"2、哈希函数H（k）\"></a>2、哈希函数H（k）</h1><p><strong>哈希函数</strong>：建立起数据元素的存放位置与数据元素的关键字之间的对应关系的函数。即<strong>使用哈希函数可将被查找的键转换为数组的索引</strong>。理想情况下它应该运算简单并且保证任何两个不同的关键字映射到不同的单元（索引值）。但是，这是不可能的，很多时候我们都需要处理<strong>多个键被哈希到同一个索引值的情况，即哈希碰撞冲突</strong></p>\n<p><strong>哈希函数的构造方法：</strong><br>（1）直接定址法<br>取关键字或关键字的某个线性函数值为哈希地址。即H(key)=key 或 H(key)=a*key+b   (a,b为常数)。<br>举例1：统计1-100岁的人口，其中年龄作为关键字，哈希函数取关键字自身。查找年龄25岁的人口有多少，则直接查表中第25项。<br><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/2020090816234099.png#\" alt=\"在这里插入图片描述\"><br>举例2：统计解放以后出生人口，其中年份作为关键字，哈希函数取关键字自身加一个常数H(key)=key+(-1948).查找1970年出生的人数，则直接查(1970-1948)=22项即可<br><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200908162408198.png#\" alt=\"在这里插入图片描述\"><br>（2）数字分析法<br>若关键字是以r为基的数（如：以10为基的十进制数），并且哈希表中可能出现的关键字都是事先知道的，则可取关键字的若干数位组成哈希地址。<br>举例：有80个记录，其关键字为8位十进制数，假设哈希表长1000，则可取两位十进制数组成哈希地址，为了尽量避免冲突，可先分析关键字。<br><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200908162558912.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#\" alt=\"在这里插入图片描述\"><br>经分析，发现第一位、第二位都是8,1，第三位只可能取3或4，第八位只可能取2,5或7，所以这四位不可取，那么对于第四、五、六、七位可看成是随机的，因此，可取其中任意两位，或取其中两位与另外两位的叠加求和舍去进位作为哈希地址。<br>（3）平方取中法<br>取关键字平方后的中间几位为哈希地址。（较常用的一种）</p>\n<p>举例：为BASIC源程序中的标识符键一个哈希表（假设BASIC语言允许的标识符为一个字母或者一个字母和一个数字两种情况，在计算机内可用两位八进制数表示字母和数字），假设表长为512=2^{9}，则可取关键字平方后的中间9位二进制数为哈希地址。（每3个二进制位可表示1位八进制位，即3个八进制位为9个二进制位）<br>A ：01 （A的ASCII码值为65,65的八进制为101，取后两位表示关键字）<br>B：02 （B的ASCII码值为66,66的八进制为102，取后两位表示关键字）<br>…<br>Z：32（Z的ASCII码值为90,90的八进制为132，取后两位表示关键字）<br>…<br>0：60（0的ASCII码值为48,48的八进制为60，取后两位表示关键字）<br>…<br>9：71（9的ASCII码值为57,57的八进制为71，取后两位表示关键字）<br><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200908162656701.png#\" alt=\"在这里插入图片描述\"><br>（4）折叠法<br>将关键字分割成位数相同的几部分（最后一部分的位数可不同），然后取这几部分的叠加和（舍去进位）作为哈希地址。适用于关键字位数比较多，且关键字中每一位上数字分布大致均匀时。<br>举例：根据国际标准图书编号（ISBN）建立一个哈希表。如一个国际标准图书编号  0-442-20586-4的哈希地址为：<br><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200908162727824.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>（5）除留余数法<br>取关键字被某个不大于哈希表表长m的数p除后所得余数为哈希地址（p为素数）<br>H（key）=key  MOD  p，p&lt;=m   （最简单，最常用）p的选取很重要<br>一般情况，p可以选取为质数或者不包含小于20的质因数的合数（合数指自然数中除了能被1和本身整除外，还能被其他数（0除外）整除的数）。<br>（6）随机数法<br>选择一个随机函数，取关键字的随机函数值为它的哈希地址。即H（key）=random（key），其中random为随机函数。适用于关键字长度不等时。<br>总结：实际工作中根据情况不同选用的哈希函数不同，通常，考虑因素如下：<br>（1）计算哈希函数所需时间（包括硬件指令的因素）<br>（2）关键字的长度<br>（3）哈希表的大小<br>（4）关键字的分布情况<br>（5）记录的查找频率</p>\n<h1 id=\"3、解决哈希碰撞\"><a href=\"#3、解决哈希碰撞\" class=\"headerlink\" title=\"3、解决哈希碰撞\"></a>3、解决哈希碰撞</h1><h2 id=\"1、开放地址法\"><a href=\"#1、开放地址法\" class=\"headerlink\" title=\"1、开放地址法\"></a>1、开放地址法</h2><p><strong>开放地址法</strong>：通过系统的方法找到系统的空位（三种：<strong>线性探测、二次探测、再哈希法</strong>），并将待插入的元素填入，而不再使用用hash函数得到数字作为数组的下标。</p>\n<ul>\n<li><strong>线性探测</strong>：假若当前要插入的位置已经被占用了之后，沿数组下标递增方向查找，直到找到空位为止</li>\n<li><strong>二次探测</strong>：二次探测和线性探测的区别在于二次探测的步长是，若计算的原始下标是x则二次探测的过程是x+12，x+22，x+32，x+42，x+52随着探测次数的增加，探测的步长是探测次数的二次方（因此名为二次探测）。二次探测会产生二次聚集：即当插入的几个数经过hash后的下标相同的话，那么这一串数字插入的探测步长会增加很快</li>\n<li><strong>再hash法</strong>：为了消除原始聚集和二次聚集，把关键字用不同的hash函数<strong>再做一遍hash化</strong>，用过这个结果作为探测的步长，这样对于特定的关键字在整个探测中步长不变，但是不同的关键字会使用不同的步长。<strong>stepSize = constant - （key % constant）</strong> 这个hash函数求步长比较实用，constant是小于数组容量的质数。（注意：第二个hash函数必须和第一个hash函数不同，步长hash函数输出的结果值不能为0）</li>\n</ul>\n<p><strong>哈希表的扩容</strong>：<br><strong>关于开放寻址也有个疑问，那就是如果一直找不到空的位置怎么办？</strong><br> 这种情况不存在，为啥嘞？你这样想，是因为你考虑了一个前提，那就是位置已经被占光了，没有空位置了，但是实际情况是位置不会被占光的，因为有一定量的位置被占了的时候就会发生扩容。当哈希表被占的位置比较多的时候，出现哈希冲突的概率也就变高了，所以很有必要进行扩容。<br><strong>那么这个扩容是怎么扩的呢？</strong><br>这里一般会有一个<strong>增长因子</strong>的概念，也叫作负载因子，简单点说就是已经被占的位置与总位置的一个百分比，比如一共十个位置，现在已经占了七个位置，就触发了扩容机制，因为它的增长因子是0.7，也就是达到了总位置的百分之七十就需要扩容。拿HashMap来说，当它当前的容量占总容量的百分之七十五的时候就需要扩容了。而且这个扩容也不是简单的把数组扩大，而是新创建一个数组是原来的2倍，然后把原数组的所有元素都重新Hash一遍放到新的数组。</p>\n<h2 id=\"2、链地址法\"><a href=\"#2、链地址法\" class=\"headerlink\" title=\"2、链地址法\"></a>2、链地址法</h2><p> <strong>链地址法</strong>  ：创建一个存放单词链表的数组，数组内不直接存放元素，而是存储元素的链表。发生冲突的时候，数据项直接接到这个数组下标所指的链表中即可。<br>　　优势：填入过程允许重复，所有关键值相同的项放在同一链表中，找到所有项就需要查找整个是链表，稍微有点影响性能。删除只需要找到正确的链表，从链表中删除对应的数据即可。表容量是质数的要求不像在二次探测和再hash法中那么重要，由于没有探测的操作，所以无需担心容量被步长整除，从而陷入无限循环中。</p>\n<p><strong>如果冲突的很多，那这个增加的链表岂不是很长？</strong><br>如果冲突过多的话，这个key对应的链表会变得比较长，怎么处理呢？这里举个例子吧，拿java集合类中的HashMap来说吧，如果这里的链表<strong>长度大于等于8</strong>的话，链表就会转换成<strong>红黑树结构</strong>，当然如果<strong>长度小于等于6</strong>的话，就会<strong>还原链表</strong>。以此来解决链表过长导致的性能问题。这样设计是因为中间有个7作为一个差值，来避免频繁的进行树和链表的转换，因为转换频繁也是影响性能的啊。</p>\n<h1 id=\"5、使用哈希表管理雇员信息\"><a href=\"#5、使用哈希表管理雇员信息\" class=\"headerlink\" title=\"5、使用哈希表管理雇员信息\"></a>5、使用哈希表管理雇员信息</h1><p><strong>题目</strong>：有一个公司,当有新的员工来报道时,要求将该员工的信息加入(id、姓名，性别，电话),当输入该员工的id时,要求查找到该员工的所有信息.<br>要求：</p>\n<ul>\n<li>不使用数据库,,速度越快越好</li>\n<li>添加时，保证按照id从低到高插入 </li>\n<li>使用链表来实现哈希表, 该链表不带表头</li>\n</ul>\n<p>思路分析：<br>添加雇员信息</p>\n<ol>\n<li>创建一个节点类存储雇员的信息（id，name，sex，phone）</li>\n<li>创建一个定长数组为哈希表，哈希表的每个数组元素储存一条链表头节点</li>\n<li>根据散列函数将要添加的雇员id进行散列（比如：散列函数构造采用简单的取模法：H(k)=id % size  假如id=1001 数组长度为7则取余后的key为0 对应的数组下标为0）</li>\n<li>根据id散列后的key值将对应id的雇员节点链接到对应的数组下标下的链表后面</li>\n</ol>\n<p>查找对应id的雇员信息：</p>\n<ol>\n<li>根据id散列得到key值</li>\n<li>到key值对应的数组下标的链表中进行查询<br><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200908165519112.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"></li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.Scanner;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTabDemo</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;        </span><br><span class=\"line\">        <span class=\"comment\">//创建哈希表</span></span><br><span class=\"line\">        HashTab hashTab = <span class=\"keyword\">new</span> HashTab(<span class=\"number\">7</span>);    </span><br><span class=\"line\">        <span class=\"comment\">//写一个简单的菜单</span></span><br><span class=\"line\">        <span class=\"keyword\">int</span> n;</span><br><span class=\"line\">        Scanner scanner = <span class=\"keyword\">new</span> Scanner(System.in);</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(<span class=\"keyword\">true</span>) &#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;1:  添加雇员&quot;</span>);</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;2: 显示雇员&quot;</span>);</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;3: 查找雇员&quot;</span>);</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;4: 退出系统&quot;</span>);            </span><br><span class=\"line\">            n = scanner.nextInt();</span><br><span class=\"line\">            <span class=\"keyword\">switch</span> (n) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">                System.out.println(<span class=\"string\">&quot;输入id&quot;</span>);</span><br><span class=\"line\">                <span class=\"keyword\">int</span> id = scanner.nextInt();</span><br><span class=\"line\">                System.out.println(<span class=\"string\">&quot;输入名字&quot;</span>);</span><br><span class=\"line\">                String name = scanner.next();</span><br><span class=\"line\">                System.out.println(<span class=\"string\">&quot;输入性别&quot;</span>);</span><br><span class=\"line\">                String sex = scanner.next();</span><br><span class=\"line\">                System.out.println(<span class=\"string\">&quot;输入电话&quot;</span>);</span><br><span class=\"line\">                String phone = scanner.next();</span><br><span class=\"line\">                <span class=\"comment\">//创建 雇员</span></span><br><span class=\"line\">                Emp emp = <span class=\"keyword\">new</span> Emp(id, name,sex,phone);</span><br><span class=\"line\">                hashTab.add(emp);</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">                hashTab.list();</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">3</span>:</span><br><span class=\"line\">                System.out.println(<span class=\"string\">&quot;请输入要查找的id&quot;</span>);</span><br><span class=\"line\">                id = scanner.nextInt();</span><br><span class=\"line\">                hashTab.findEmpById(id);</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">4</span>:</span><br><span class=\"line\">                scanner.close();</span><br><span class=\"line\">                System.exit(<span class=\"number\">0</span>);</span><br><span class=\"line\">            <span class=\"keyword\">default</span>:</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;    </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//创建HashTab 管理多条链表</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HashTab</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> EmpLinkedList[] empLinkedListArray;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> size; <span class=\"comment\">//表示有多少条链表    </span></span><br><span class=\"line\">    <span class=\"comment\">//构造器</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HashTab</span><span class=\"params\">(<span class=\"keyword\">int</span> size)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.size = size;</span><br><span class=\"line\">        <span class=\"comment\">//初始化empLinkedListArray</span></span><br><span class=\"line\">        empLinkedListArray = <span class=\"keyword\">new</span> EmpLinkedList[size];</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; size; i++) &#123;</span><br><span class=\"line\">            empLinkedListArray[i] = <span class=\"keyword\">new</span> EmpLinkedList();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//添加雇员</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">add</span><span class=\"params\">(Emp emp)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//根据员工的id ,得到该员工应当添加到哪条链表</span></span><br><span class=\"line\">        <span class=\"keyword\">int</span> empLinkedListNO = hashFun(emp.id);</span><br><span class=\"line\">        <span class=\"comment\">//将emp 添加到对应的链表中</span></span><br><span class=\"line\">        empLinkedListArray[empLinkedListNO].add(emp);</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//遍历所有的链表,遍历hashtab</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">list</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; size; i++) &#123;</span><br><span class=\"line\">            empLinkedListArray[i].list(i);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//根据输入的id,查找雇员</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">findEmpById</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//使用散列函数确定到哪条链表查找</span></span><br><span class=\"line\">        <span class=\"keyword\">int</span> empLinkedListNO = hashFun(id);</span><br><span class=\"line\">        Emp emp = empLinkedListArray[empLinkedListNO].findEmpById(id);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(emp != <span class=\"keyword\">null</span>) &#123;<span class=\"comment\">//找到</span></span><br><span class=\"line\">            System.out.printf(<span class=\"string\">&quot;在第%d条链表中找到 雇员 id = %d name = %s sex = %s phone = %s&quot;</span>, (empLinkedListNO + <span class=\"number\">1</span>), id,emp.name,emp.sex,emp.phone);</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;在哈希表中，没有找到该雇员~&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//编写散列函数, 使用一个简单取模法</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">hashFun</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> id % size;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//表示一个雇员</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Emp</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> id;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> String sex;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> String phone;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> Emp next; <span class=\"comment\">//next 默认为 null</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Emp</span><span class=\"params\">(<span class=\"keyword\">int</span> id, String name,String sex,String phone)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>();</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.id = id;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.sex = sex;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.phone = phone;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//创建EmpLinkedList ,表示链表</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">EmpLinkedList</span> </span>&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//头指针，指向第一个Emp,因此我们这个链表的head 是直接指向第一个Emp</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Emp head; <span class=\"comment\">//默认null    </span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//添加雇员到链表</span></span><br><span class=\"line\">    <span class=\"comment\">//说明</span></span><br><span class=\"line\">    <span class=\"comment\">//1. 假定，当添加雇员时，id 是自增长，即id的分配总是从小到大</span></span><br><span class=\"line\">    <span class=\"comment\">//   因此我们将该雇员直接加入到本链表的最后即可</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">add</span><span class=\"params\">(Emp emp)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//如果是添加第一个雇员</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            head = emp;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//如果不是第一个雇员，则使用一个辅助的指针，帮助定位到最后</span></span><br><span class=\"line\">        Emp curEmp = head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(<span class=\"keyword\">true</span>) </span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(curEmp.next == <span class=\"keyword\">null</span>) &#123;<span class=\"comment\">//说明到链表最后</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            curEmp = curEmp.next; <span class=\"comment\">//后移</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//退出时直接将emp 加入链表</span></span><br><span class=\"line\">        curEmp.next = emp;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//遍历链表的雇员信息</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">list</span><span class=\"params\">(<span class=\"keyword\">int</span> no)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"keyword\">null</span>) &#123; <span class=\"comment\">//说明链表为空</span></span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;第 &quot;</span>+(no+<span class=\"number\">1</span>)+<span class=\"string\">&quot; 链表为空&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        System.out.print(<span class=\"string\">&quot;第 &quot;</span>+(no+<span class=\"number\">1</span>)+<span class=\"string\">&quot; 链表的信息为&quot;</span>);</span><br><span class=\"line\">        Emp curEmp = head; <span class=\"comment\">//辅助指针</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(<span class=\"keyword\">true</span>) &#123;</span><br><span class=\"line\">            System.out.printf(<span class=\"string\">&quot; =&gt; id=%d name=%s sex=%s phone=%s\\t&quot;</span>, curEmp.id, curEmp.name,curEmp.sex,curEmp.phone);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(curEmp.next == <span class=\"keyword\">null</span>) &#123;<span class=\"comment\">//说明curEmp已经是最后结点</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            curEmp = curEmp.next; <span class=\"comment\">//后移，遍历</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        System.out.println();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//根据id查找雇员</span></span><br><span class=\"line\">    <span class=\"comment\">//如果查找到，就返回Emp, 如果没有找到，就返回null</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Emp <span class=\"title\">findEmpById</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//判断链表是否为空</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(head == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            System.out.println(<span class=\"string\">&quot;链表为空&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//辅助指针</span></span><br><span class=\"line\">        Emp curEmp = head;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(<span class=\"keyword\">true</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(curEmp.id == id) &#123;<span class=\"comment\">//找到</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span>;<span class=\"comment\">//这时curEmp就指向要查找的雇员</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">//退出</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(curEmp.next == <span class=\"keyword\">null</span>) &#123;<span class=\"comment\">//说明遍历当前链表没有找到该雇员</span></span><br><span class=\"line\">                curEmp = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            curEmp = curEmp.next;<span class=\"comment\">//以后</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> curEmp;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>测试：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span>:  添加雇员</span><br><span class=\"line\"><span class=\"number\">2</span>: 显示雇员</span><br><span class=\"line\"><span class=\"number\">3</span>: 查找雇员</span><br><span class=\"line\"><span class=\"number\">4</span>: 退出系统</span><br><span class=\"line\"><span class=\"number\">1</span></span><br><span class=\"line\">输入id</span><br><span class=\"line\"><span class=\"number\">1001</span></span><br><span class=\"line\">输入名字</span><br><span class=\"line\">张三</span><br><span class=\"line\">输入性别</span><br><span class=\"line\">男</span><br><span class=\"line\">输入电话</span><br><span class=\"line\"><span class=\"number\">12345674512</span></span><br><span class=\"line\"><span class=\"number\">1</span>:  添加雇员</span><br><span class=\"line\"><span class=\"number\">2</span>: 显示雇员</span><br><span class=\"line\"><span class=\"number\">3</span>: 查找雇员</span><br><span class=\"line\"><span class=\"number\">4</span>: 退出系统</span><br><span class=\"line\"><span class=\"number\">1</span></span><br><span class=\"line\">输入id</span><br><span class=\"line\"><span class=\"number\">1002</span></span><br><span class=\"line\">输入名字</span><br><span class=\"line\">李强</span><br><span class=\"line\">输入性别</span><br><span class=\"line\">男</span><br><span class=\"line\">输入电话</span><br><span class=\"line\"><span class=\"number\">14578214573</span></span><br><span class=\"line\"><span class=\"number\">1</span>:  添加雇员</span><br><span class=\"line\"><span class=\"number\">2</span>: 显示雇员</span><br><span class=\"line\"><span class=\"number\">3</span>: 查找雇员</span><br><span class=\"line\"><span class=\"number\">4</span>: 退出系统</span><br><span class=\"line\"><span class=\"number\">1</span></span><br><span class=\"line\">输入id</span><br><span class=\"line\"><span class=\"number\">1009</span></span><br><span class=\"line\">输入名字</span><br><span class=\"line\">王文</span><br><span class=\"line\">输入性别</span><br><span class=\"line\">女</span><br><span class=\"line\">输入电话</span><br><span class=\"line\"><span class=\"number\">14789654233</span></span><br><span class=\"line\"><span class=\"number\">1</span>:  添加雇员</span><br><span class=\"line\"><span class=\"number\">2</span>: 显示雇员</span><br><span class=\"line\"><span class=\"number\">3</span>: 查找雇员</span><br><span class=\"line\"><span class=\"number\">4</span>: 退出系统</span><br><span class=\"line\"><span class=\"number\">2</span></span><br><span class=\"line\">第 <span class=\"number\">1</span> 链表的信息为 =&gt; id=<span class=\"number\">1001</span> name=张三 sex=男 phone=<span class=\"number\">12345674512</span>    </span><br><span class=\"line\">第 <span class=\"number\">2</span> 链表的信息为 =&gt; id=<span class=\"number\">1002</span> name=李强 sex=男 phone=<span class=\"number\">14578214573</span>     =&gt; id=<span class=\"number\">1009</span> name=王文 sex=女 phone=<span class=\"number\">14789654233</span>    </span><br><span class=\"line\">第 <span class=\"number\">3</span> 链表为空</span><br><span class=\"line\">第 <span class=\"number\">4</span> 链表为空</span><br><span class=\"line\">第 <span class=\"number\">5</span> 链表为空</span><br><span class=\"line\">第 <span class=\"number\">6</span> 链表为空</span><br><span class=\"line\">第 <span class=\"number\">7</span> 链表为空</span><br><span class=\"line\"><span class=\"number\">1</span>:  添加雇员</span><br><span class=\"line\"><span class=\"number\">2</span>: 显示雇员</span><br><span class=\"line\"><span class=\"number\">3</span>: 查找雇员</span><br><span class=\"line\"><span class=\"number\">4</span>: 退出系统</span><br><span class=\"line\"><span class=\"number\">3</span></span><br><span class=\"line\">请输入要查找的id</span><br><span class=\"line\"><span class=\"number\">1009</span></span><br><span class=\"line\">在第<span class=\"number\">2</span>条链表中找到 雇员 id = <span class=\"number\">1009</span> name = 王文 sex = 女 phone = <span class=\"number\">14789654233</span></span><br><span class=\"line\"><span class=\"number\">1</span>:  添加雇员</span><br><span class=\"line\"><span class=\"number\">2</span>: 显示雇员</span><br><span class=\"line\"><span class=\"number\">3</span>: 查找雇员</span><br><span class=\"line\"><span class=\"number\">4</span>: 退出系统</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n",
            "tags": [
                "哈希表",
                "开放地址法",
                "链地址法",
                "哈希函数"
            ]
        }
    ]
}