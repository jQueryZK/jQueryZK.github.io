{
    "version": "https://jsonfeed.org/version/1",
    "title": "jQueryZK Blog • All posts by \"python\" tag",
    "description": "过去无法挽回，未来可以改变",
    "home_page_url": "https://jQueryZK.github.io",
    "items": [
        {
            "id": "https://jqueryzk.github.io/2020/08/25/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bpyecharts(%E4%B8%80)%E2%80%94%E2%80%94%E6%9F%B1%E7%8A%B6%E5%9B%BE%E3%80%81%E6%8A%98%E7%BA%BF%E5%9B%BE%E3%80%81%E6%95%A3%E7%82%B9%E5%9B%BE%E3%80%81%E9%A5%BC%E5%9B%BE%E3%80%81%E8%AF%8D%E4%BA%91%E7%9A%84%E7%BB%98%E5%88%B6/",
            "url": "https://jqueryzk.github.io/2020/08/25/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bpyecharts(%E4%B8%80)%E2%80%94%E2%80%94%E6%9F%B1%E7%8A%B6%E5%9B%BE%E3%80%81%E6%8A%98%E7%BA%BF%E5%9B%BE%E3%80%81%E6%95%A3%E7%82%B9%E5%9B%BE%E3%80%81%E9%A5%BC%E5%9B%BE%E3%80%81%E8%AF%8D%E4%BA%91%E7%9A%84%E7%BB%98%E5%88%B6/",
            "title": "python数据可视化之pyecharts(一)——柱状图、折线图、散点图、饼图、词云的绘制",
            "date_published": "2020-08-25T13:05:52.365Z",
            "content_html": "<h1 id=\"1-下载安装pyecharts\"><a class=\"markdownIt-Anchor\" href=\"#1-下载安装pyecharts\">#</a> 1、下载安装 pyecharts</h1>\n<p>cmd 输入以下命令</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install pyecharts</span><br></pre></td></tr></table></figure>\n<p>如果是用的 pycharm 可以直接在 Terminal 中输入<br>\n（如果上述命令没有效果的话，可用下面的命令）</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python -m pip install pyecharts  --trusted-host=pypi.python.org --trusted-host=pypi.org --trusted-host=files.pythonhosted.org</span><br></pre></td></tr></table></figure>\n<p>关于版本问题我在这提一下，最新版本的 pyecharts 导入代码是<br>\n比如导入 Bar 库</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pyecharts.charts <span class=\"keyword\">import</span> Bar</span><br></pre></td></tr></table></figure>\n<p>而旧版本的是直接</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pyecharts <span class=\"keyword\">import</span> Bar</span><br></pre></td></tr></table></figure>\n<p>如果导入库的时候出现错误可考虑版本问题，建议还是使用以前的版本</p>\n<p>如果想直接将图片保存为 png, pdf, gif 格式的文件，可以使用 pyecharts-snapshot。<br>\npip 安装</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install pyecharts_snapshot</span><br></pre></td></tr></table></figure>\n<h1 id=\"2-学习pyecharts\"><a class=\"markdownIt-Anchor\" href=\"#2-学习pyecharts\">#</a> 2、学习 pyecharts</h1>\n<p>Echarts 是一个由百度开源的数据可视化，凭借着良好的交互性，精巧的图表设计，得到了众多开发者的认可。而 Python 是一门富有表达力的语言，很适合用于数据处理。当数据分析遇上数据可视化时，pyecharts 诞生了。</p>\n<h2 id=\"1-制作动态柱状图\"><a class=\"markdownIt-Anchor\" href=\"#1-制作动态柱状图\">#</a> 1、制作动态柱状图</h2>\n<p><strong>1、单属性柱状图</strong></p>\n<p>导入库：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pyecharts <span class=\"keyword\">import</span> Bar</span><br><span class=\"line\">name_list = [<span class=\"string\">&quot;苹果&quot;</span>, <span class=\"string\">&quot;梨子&quot;</span>, <span class=\"string\">&quot;香蕉&quot;</span>, <span class=\"string\">&quot;葡萄&quot;</span>]<span class=\"comment\">#柱状图属性名称</span></span><br><span class=\"line\">value_list = [<span class=\"number\">15</span>, <span class=\"number\">25</span>, <span class=\"number\">5</span>, <span class=\"number\">10</span>]<span class=\"comment\">#属性值</span></span><br><span class=\"line\"><span class=\"comment\"># 默认Bar()第一个参数为 主标题,第二个参数为副标题</span></span><br><span class=\"line\">bar1 = Bar(<span class=\"string\">&#x27;水果数量&#x27;</span>, <span class=\"string\">&#x27;Theme&#x27;</span>, title_color=<span class=\"string\">&#x27;#5599ff&#x27;</span>, subtitle_color=<span class=\"string\">&#x27;#00ffff&#x27;</span>,</span><br><span class=\"line\">           background_color=<span class=\"string\">&quot;white&quot;</span>, title_pos=<span class=\"string\">&#x27;center&#x27;</span>, title_top=<span class=\"string\">&#x27;5%&#x27;</span>,)</span><br><span class=\"line\"><span class=\"comment\"># background_color 背景颜色 title_top标题距离顶端位置  title_pos标题中心位置</span></span><br><span class=\"line\"><span class=\"comment\"># title_color主标题颜色 subtitle_color副标题颜色</span></span><br><span class=\"line\">bar1.add(<span class=\"string\">&quot;水果&quot;</span>, name_list, value_list)<span class=\"comment\">#将数据加入柱状图中</span></span><br><span class=\"line\">bar1.render(<span class=\"string\">&#x27;./图像/单属性柱状图.html&#x27;</span>)<span class=\"comment\">#保存为HTML格式，也可保存为jpg，png，gif等</span></span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824172243269.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n提一下，’./ 图像 / 单属性柱状图.html’是保存为 html 文件以及文件路径我是保存在了当前项目的图像文件夹中（根据自己需求来写）<br>\n<strong>2、多属性柱状图</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pyecharts <span class=\"keyword\">import</span> Bar</span><br><span class=\"line\">name_list = [<span class=\"string\">&quot;苹果&quot;</span>, <span class=\"string\">&quot;梨子&quot;</span>, <span class=\"string\">&quot;香蕉&quot;</span>, <span class=\"string\">&quot;葡萄&quot;</span>]<span class=\"comment\">#柱状图属性名称</span></span><br><span class=\"line\">value_list0 = [<span class=\"number\">15</span>, <span class=\"number\">25</span>, <span class=\"number\">5</span>, <span class=\"number\">10</span>]<span class=\"comment\">#属性值0</span></span><br><span class=\"line\">value_list1 = [<span class=\"number\">5</span>, <span class=\"number\">10</span>, <span class=\"number\">15</span>, <span class=\"number\">20</span>]<span class=\"comment\">#属性值1</span></span><br><span class=\"line\">value_list2 = [<span class=\"number\">20</span>, <span class=\"number\">5</span>, <span class=\"number\">30</span>, <span class=\"number\">15</span>]<span class=\"comment\">#属性值2</span></span><br><span class=\"line\">bar2 = Bar(title = <span class=\"string\">&quot;水果数量&quot;</span>)<span class=\"comment\">#生成对象，title为柱状图标题</span></span><br><span class=\"line\">bar2.add(<span class=\"string\">&quot;商家0&quot;</span>, name_list, value_list0)<span class=\"comment\">#将数据加入柱状图中</span></span><br><span class=\"line\">bar2.add(<span class=\"string\">&quot;商家1&quot;</span>, name_list, value_list1)<span class=\"comment\">#将数据加入柱状图中</span></span><br><span class=\"line\">bar2.add(<span class=\"string\">&quot;商家2&quot;</span>, name_list, value_list2)<span class=\"comment\">#将数据加入柱状图中</span></span><br><span class=\"line\">bar2.render(<span class=\"string\">&#x27;./图像/多属性柱状图.html&#x27;</span>)<span class=\"comment\">#保存为HTML格式，也可保存为jpg，png，gif等</span></span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824172835892.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n图像是可进行动态操作的，也就是说上面的三个商家的图标是可以点的，想要看哪个就可以把哪个图标点亮，当鼠标移动到对应的柱状图上时会显示对应的数据信息。<br>\n<strong>3、堆叠柱状图</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pyecharts <span class=\"keyword\">import</span> Bar <span class=\"comment\">#导入相应包</span></span><br><span class=\"line\">name_list = [<span class=\"string\">&quot;苹果&quot;</span>, <span class=\"string\">&quot;梨子&quot;</span>, <span class=\"string\">&quot;香蕉&quot;</span>, <span class=\"string\">&quot;葡萄&quot;</span>]<span class=\"comment\">#柱状图属性名称</span></span><br><span class=\"line\">value_list0 = [<span class=\"number\">15</span>, <span class=\"number\">25</span>, <span class=\"number\">5</span>, <span class=\"number\">10</span>]<span class=\"comment\">#属性值0</span></span><br><span class=\"line\">value_list1 = [<span class=\"number\">5</span>, <span class=\"number\">10</span>, <span class=\"number\">15</span>, <span class=\"number\">20</span>]<span class=\"comment\">#属性值1</span></span><br><span class=\"line\">value_list2 = [<span class=\"number\">20</span>, <span class=\"number\">5</span>, <span class=\"number\">30</span>, <span class=\"number\">15</span>]<span class=\"comment\">#属性值2</span></span><br><span class=\"line\">bar3 = Bar(title=<span class=\"string\">&quot;水果数量&quot;</span>)<span class=\"comment\">#生成对象，title为柱状图标题</span></span><br><span class=\"line\"><span class=\"comment\">#is_stack=True表示将数据堆叠，is_label_show=True表示显示对应数值</span></span><br><span class=\"line\">bar3.add(<span class=\"string\">&quot;商家0&quot;</span>, name_list, value_list0, is_stack=<span class=\"literal\">True</span>, is_label_show=<span class=\"literal\">True</span>)</span><br><span class=\"line\">bar3.add(<span class=\"string\">&quot;商家1&quot;</span>, name_list, value_list1, is_stack=<span class=\"literal\">True</span>, is_label_show=<span class=\"literal\">True</span>)</span><br><span class=\"line\">bar3.add(<span class=\"string\">&quot;商家2&quot;</span>, name_list, value_list2, is_stack=<span class=\"literal\">True</span>, is_label_show=<span class=\"literal\">True</span>)</span><br><span class=\"line\">bar3.render(<span class=\"string\">&#x27;./图像/堆叠柱状图.html&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824173300796.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n<strong> 4、x 和 y 轴交换柱状图</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pyecharts <span class=\"keyword\">import</span> Bar <span class=\"comment\">#导入相应包</span></span><br><span class=\"line\">name_list = [<span class=\"string\">&quot;苹果&quot;</span>, <span class=\"string\">&quot;梨子&quot;</span>, <span class=\"string\">&quot;香蕉&quot;</span>, <span class=\"string\">&quot;葡萄&quot;</span>]<span class=\"comment\">#柱状图属性名称</span></span><br><span class=\"line\">value_list0 = [<span class=\"number\">15</span>, <span class=\"number\">25</span>, <span class=\"number\">5</span>, <span class=\"number\">10</span>]<span class=\"comment\">#属性值0</span></span><br><span class=\"line\">value_list1 = [<span class=\"number\">5</span>, <span class=\"number\">10</span>, <span class=\"number\">15</span>, <span class=\"number\">20</span>]<span class=\"comment\">#属性值1</span></span><br><span class=\"line\">value_list2 = [<span class=\"number\">20</span>, <span class=\"number\">5</span>, <span class=\"number\">30</span>, <span class=\"number\">15</span>]<span class=\"comment\">#属性值2</span></span><br><span class=\"line\">bar4 = Bar(title=<span class=\"string\">&quot;水果数量&quot;</span>)<span class=\"comment\">#生成对象，title为柱状图标题</span></span><br><span class=\"line\">bar4.add(<span class=\"string\">&quot;商家0&quot;</span>, name_list, value_list0, is_label_show=<span class=\"literal\">True</span>)</span><br><span class=\"line\">bar4.add(<span class=\"string\">&quot;商家1&quot;</span>, name_list, value_list1, is_label_show=<span class=\"literal\">True</span>)</span><br><span class=\"line\">bar4.add(<span class=\"string\">&quot;商家2&quot;</span>, name_list, value_list2, is_label_show=<span class=\"literal\">True</span>, is_convert=<span class=\"literal\">True</span>)</span><br><span class=\"line\"><span class=\"comment\">#is_convert=True,xy轴交换</span></span><br><span class=\"line\">bar4.render(<span class=\"string\">&quot;./图像/xy轴交换柱状图.html&quot;</span>)</span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824200814221.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n<strong> 5、时间线动态柱状图</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pyecharts <span class=\"keyword\">import</span> Bar, Timeline<span class=\"comment\">#Timeline展示时间线的包</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> random <span class=\"keyword\">import</span> randint</span><br><span class=\"line\">attr = [<span class=\"string\">&quot;苹果&quot;</span>, <span class=\"string\">&quot;梨&quot;</span>, <span class=\"string\">&quot;西瓜&quot;</span>, <span class=\"string\">&quot;橙子&quot;</span>, <span class=\"string\">&quot;菠萝&quot;</span>, <span class=\"string\">&quot;葡萄&quot;</span>]</span><br><span class=\"line\"><span class=\"comment\">#图1</span></span><br><span class=\"line\">bar_1 = Bar(<span class=\"string\">&quot;2016 年销量&quot;</span>, <span class=\"string\">&quot;数据纯属虚构&quot;</span>)</span><br><span class=\"line\">bar_1.add(<span class=\"string\">&quot;春季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_1.add(<span class=\"string\">&quot;夏季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_1.add(<span class=\"string\">&quot;秋季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_1.add(<span class=\"string\">&quot;冬季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\"><span class=\"comment\">#图2</span></span><br><span class=\"line\">bar_2 = Bar(<span class=\"string\">&quot;2017 年销量&quot;</span>, <span class=\"string\">&quot;数据纯属虚构&quot;</span>)</span><br><span class=\"line\">bar_2.add(<span class=\"string\">&quot;春季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_2.add(<span class=\"string\">&quot;夏季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_2.add(<span class=\"string\">&quot;秋季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_2.add(<span class=\"string\">&quot;冬季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\"><span class=\"comment\">#图3</span></span><br><span class=\"line\">bar_3 = Bar(<span class=\"string\">&quot;2018 年销量&quot;</span>, <span class=\"string\">&quot;数据纯属虚构&quot;</span>)</span><br><span class=\"line\">bar_3.add(<span class=\"string\">&quot;春季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_3.add(<span class=\"string\">&quot;夏季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_3.add(<span class=\"string\">&quot;秋季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_3.add(<span class=\"string\">&quot;冬季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\"><span class=\"comment\">#图4</span></span><br><span class=\"line\">bar_4 = Bar(<span class=\"string\">&quot;2019 年销量&quot;</span>, <span class=\"string\">&quot;数据纯属虚构&quot;</span>)</span><br><span class=\"line\">bar_4.add(<span class=\"string\">&quot;春季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_4.add(<span class=\"string\">&quot;夏季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_4.add(<span class=\"string\">&quot;秋季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_4.add(<span class=\"string\">&quot;冬季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\"><span class=\"comment\">#图5</span></span><br><span class=\"line\">bar_5 = Bar(<span class=\"string\">&quot;2020 年销量&quot;</span>, <span class=\"string\">&quot;数据纯属虚构&quot;</span>)</span><br><span class=\"line\">bar_5.add(<span class=\"string\">&quot;春季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_5.add(<span class=\"string\">&quot;夏季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_5.add(<span class=\"string\">&quot;秋季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)])</span><br><span class=\"line\">bar_5.add(<span class=\"string\">&quot;冬季&quot;</span>, attr, [randint(<span class=\"number\">10</span>, <span class=\"number\">100</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">6</span>)], is_legend_show=<span class=\"literal\">True</span>)</span><br><span class=\"line\"><span class=\"comment\">#将上面的图按时间点加入时间线</span></span><br><span class=\"line\">timeline = Timeline(is_auto_play=<span class=\"literal\">True</span>, timeline_bottom=<span class=\"number\">0</span>)</span><br><span class=\"line\">timeline.add(bar_1, <span class=\"string\">&#x27;2016 年&#x27;</span>)</span><br><span class=\"line\">timeline.add(bar_2, <span class=\"string\">&#x27;2017 年&#x27;</span>)</span><br><span class=\"line\">timeline.add(bar_3, <span class=\"string\">&#x27;2018 年&#x27;</span>)</span><br><span class=\"line\">timeline.add(bar_4, <span class=\"string\">&#x27;2019 年&#x27;</span>)</span><br><span class=\"line\">timeline.add(bar_5, <span class=\"string\">&#x27;2020 年&#x27;</span>)</span><br><span class=\"line\">timeline.render(<span class=\"string\">&#x27;./图像/时间线动态柱状图.html&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824201243361.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"2-折线图\"><a class=\"markdownIt-Anchor\" href=\"#2-折线图\">#</a> 2、折线图</h2>\n<p><strong>1、普通折线图</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 折线图</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> pyecharts <span class=\"keyword\">import</span> Line <span class=\"comment\">#导入相应包</span></span><br><span class=\"line\">name_list = [<span class=\"string\">&quot;冰箱&quot;</span>, <span class=\"string\">&quot;电视&quot;</span>, <span class=\"string\">&quot;空调&quot;</span>, <span class=\"string\">&quot;洗衣机&quot;</span>]<span class=\"comment\">#属性名称</span></span><br><span class=\"line\">value_list0 = [<span class=\"number\">15</span>, <span class=\"number\">25</span>, <span class=\"number\">5</span>, <span class=\"number\">10</span>]<span class=\"comment\">#属性值0</span></span><br><span class=\"line\">value_list1 = [<span class=\"number\">5</span>, <span class=\"number\">10</span>, <span class=\"number\">15</span>, <span class=\"number\">20</span>]<span class=\"comment\">#属性值1</span></span><br><span class=\"line\">value_list2 = [<span class=\"number\">20</span>, <span class=\"number\">5</span>, <span class=\"number\">30</span>, <span class=\"number\">15</span>]<span class=\"comment\">#属性值2</span></span><br><span class=\"line\">line = Line(title=<span class=\"string\">&quot;电器数量&quot;</span>)<span class=\"comment\">#生成对象，title为标题</span></span><br><span class=\"line\">line.add(<span class=\"string\">&quot;商家0&quot;</span>, name_list, value_list0, is_stack=<span class=\"literal\">True</span>, is_label_show=<span class=\"literal\">True</span>)<span class=\"comment\">#将数据加入图中</span></span><br><span class=\"line\">line.add(<span class=\"string\">&quot;商家1&quot;</span>, name_list, value_list1, is_stack=<span class=\"literal\">True</span>, is_label_show=<span class=\"literal\">True</span>)<span class=\"comment\">#将数据加入图中</span></span><br><span class=\"line\">line.add(<span class=\"string\">&quot;商家2&quot;</span>, name_list, value_list2, is_stack=<span class=\"literal\">True</span>, is_label_show=<span class=\"literal\">True</span>)<span class=\"comment\">#将数据加入图中</span></span><br><span class=\"line\">line.render(<span class=\"string\">&#x27;./图像/折线图.html&#x27;</span>)<span class=\"comment\">#保存为HTML格式，也可保存为jpg，png，gif等</span></span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824201505742.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n<strong> 2、折线图 + 柱状图</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 将柱状图和折线图放在一个图中</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> pyecharts <span class=\"keyword\">import</span> Bar, Line, Overlap</span><br><span class=\"line\">name_list = [<span class=\"string\">&quot;冰箱&quot;</span>, <span class=\"string\">&quot;电视&quot;</span>, <span class=\"string\">&quot;空调&quot;</span>, <span class=\"string\">&quot;电脑&quot;</span>]<span class=\"comment\">#属性名称</span></span><br><span class=\"line\">value_list0 = [<span class=\"number\">15</span>, <span class=\"number\">25</span>, <span class=\"number\">5</span>, <span class=\"number\">10</span>]<span class=\"comment\">#属性值0</span></span><br><span class=\"line\">value_list1 = [<span class=\"number\">5</span>, <span class=\"number\">10</span>, <span class=\"number\">15</span>, <span class=\"number\">20</span>]<span class=\"comment\">#属性值1</span></span><br><span class=\"line\">bar = Bar(title=<span class=\"string\">&quot;水果销量&quot;</span>)</span><br><span class=\"line\">line = Line()</span><br><span class=\"line\">bar.add(<span class=\"string\">&quot;商家0&quot;</span>, name_list, value_list0, mark_line=[<span class=\"string\">&quot;average&quot;</span>], mark_point=[<span class=\"string\">&quot;max&quot;</span>, <span class=\"string\">&quot;min&quot;</span>], is_label_show=<span class=\"literal\">True</span>)<span class=\"comment\">#将数据加入图中</span></span><br><span class=\"line\">bar.add(<span class=\"string\">&quot;商家1&quot;</span>, name_list, value_list1, mark_line=[<span class=\"string\">&quot;average&quot;</span>], mark_point=[<span class=\"string\">&quot;max&quot;</span>, <span class=\"string\">&quot;min&quot;</span>], is_label_show=<span class=\"literal\">True</span>)<span class=\"comment\">#将数据加入图中</span></span><br><span class=\"line\">line.add(<span class=\"string\">&quot;商家0&quot;</span>, name_list, value_list0, is_smooth=<span class=\"literal\">True</span>)<span class=\"comment\">#将数据加入图中</span></span><br><span class=\"line\">line.add(<span class=\"string\">&quot;商家1&quot;</span>, name_list, value_list1)<span class=\"comment\">#将数据加入图中</span></span><br><span class=\"line\">overlap = Overlap()</span><br><span class=\"line\">overlap.add(bar)</span><br><span class=\"line\">overlap.add(line)</span><br><span class=\"line\">overlap.render(<span class=\"string\">&#x27;./图像/柱状图+折线图.html&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824201716355.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"3-散点图\"><a class=\"markdownIt-Anchor\" href=\"#3-散点图\">#</a> 3、散点图</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pyecharts <span class=\"keyword\">import</span> Scatter   <span class=\"comment\">#散点图</span></span><br><span class=\"line\">v1 =[<span class=\"number\">25.02</span>, <span class=\"number\">18.73</span>, <span class=\"number\">7.85</span>, <span class=\"number\">7.68</span>, <span class=\"number\">7.35</span>, <span class=\"number\">5.35</span>, <span class=\"number\">3.29</span>, <span class=\"number\">2.23</span>, <span class=\"number\">1.98</span>, <span class=\"number\">1.78</span>, <span class=\"number\">1.65</span>, <span class=\"number\">1.64</span>, <span class=\"number\">1.06</span>, <span class=\"number\">1.06</span>, <span class=\"number\">0.69</span>]</span><br><span class=\"line\">v2 =[<span class=\"number\">5.35</span>, <span class=\"number\">4.42</span>, <span class=\"number\">4.31</span>, <span class=\"number\">3.92</span>, <span class=\"number\">3.29</span>, <span class=\"number\">2.23</span>, <span class=\"number\">4.42</span>, <span class=\"number\">4.31</span>, <span class=\"number\">3.92</span>, <span class=\"number\">3.29</span>, <span class=\"number\">2.23</span>, <span class=\"number\">1.98</span>, <span class=\"number\">1.78</span>, <span class=\"number\">1.65</span>, <span class=\"number\">0.8</span>]</span><br><span class=\"line\">scatter =Scatter(<span class=\"string\">&quot;电影类型评分&quot;</span>, title_pos=<span class=\"string\">&#x27;center&#x27;</span>, background_color=<span class=\"string\">&#x27;white&#x27;</span>, title_top=<span class=\"string\">&#x27;90%&#x27;</span>)</span><br><span class=\"line\">scatter.add(<span class=\"string\">&quot;爱情&quot;</span>, v1, v2)</span><br><span class=\"line\">scatter.add(<span class=\"string\">&quot;动作&quot;</span>, v1[::<span class=\"number\">-1</span>], v2)</span><br><span class=\"line\">scatter.show_config()</span><br><span class=\"line\">scatter.render(<span class=\"string\">&quot;./图像/散点图.html&quot;</span>)</span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/2020082420190324.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"4-饼图\"><a class=\"markdownIt-Anchor\" href=\"#4-饼图\">#</a> 4、饼图</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 饼图</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> pyecharts <span class=\"keyword\">import</span> Pie</span><br><span class=\"line\">attr = [<span class=\"string\">&quot;电脑&quot;</span>, <span class=\"string\">&quot;电视&quot;</span>, <span class=\"string\">&quot;冰箱&quot;</span>, <span class=\"string\">&quot;洗衣机&quot;</span>, <span class=\"string\">&quot;电饭煲&quot;</span>, <span class=\"string\">&quot;电磁炉&quot;</span>]</span><br><span class=\"line\">value1 = [<span class=\"number\">10</span>, <span class=\"number\">15</span>, <span class=\"number\">5</span>, <span class=\"number\">20</span>, <span class=\"number\">8</span>, <span class=\"number\">18</span>]</span><br><span class=\"line\">value2 = [<span class=\"number\">10</span>, <span class=\"number\">11</span>, <span class=\"number\">12</span>, <span class=\"number\">13</span>, <span class=\"number\">14</span>, <span class=\"number\">15</span>]</span><br><span class=\"line\">pie = Pie(title=<span class=\"string\">&#x27;电器销量图图&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">#饼图1圆心坐标为[25,50]，内外半径radius=[10,75]，is_random = True颜色随机</span></span><br><span class=\"line\">pie.add(<span class=\"string\">&#x27;商家1&#x27;</span>, attr, value1, center=[<span class=\"number\">25</span>, <span class=\"number\">50</span>], is_random=<span class=\"literal\">True</span>, radius=[<span class=\"number\">10</span>, <span class=\"number\">75</span>], is_legend_show=<span class=\"literal\">True</span>)<span class=\"comment\">#,rosetype = &#x27;radius&#x27;,is_label_show = False)</span></span><br><span class=\"line\"><span class=\"comment\">#饼图1圆心坐标为[75,50]，内外半径radius=[0,75]，展示成南丁格尔图</span></span><br><span class=\"line\">pie.add(<span class=\"string\">&#x27;商家2&#x27;</span>, attr, value2, center=[<span class=\"number\">75</span>, <span class=\"number\">50</span>], is_random=<span class=\"literal\">True</span>, radius=[<span class=\"number\">0</span>, <span class=\"number\">75</span>], rosetype=<span class=\"string\">&#x27;area&#x27;</span>, is_legend_show = <span class=\"literal\">True</span>,is_label_show = <span class=\"literal\">True</span>)</span><br><span class=\"line\">pie.render(<span class=\"string\">&#x27;./图像/饼图.html&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824202037776.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"5-词云\"><a class=\"markdownIt-Anchor\" href=\"#5-词云\">#</a> 5、词云</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 词云</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> pyecharts <span class=\"keyword\">import</span> WordCloud</span><br><span class=\"line\">name_list = [<span class=\"string\">&#x27;Java&#x27;</span>, <span class=\"string\">&#x27;Python&#x27;</span>, <span class=\"string\">&#x27;C++&#x27;</span>, <span class=\"string\">&#x27;C&#x27;</span>, <span class=\"string\">&#x27;JavaScript&#x27;</span>, <span class=\"string\">&#x27;PHP&#x27;</span>, <span class=\"string\">&#x27;Go&#x27;</span>, <span class=\"string\">&#x27;R&#x27;</span>, <span class=\"string\">&#x27;C#&#x27;</span>, <span class=\"string\">&#x27;Swift&#x27;</span>]</span><br><span class=\"line\">value_list = [<span class=\"number\">60</span>, <span class=\"number\">90</span>, <span class=\"number\">80</span>, <span class=\"number\">70</span>, <span class=\"number\">60</span>, <span class=\"number\">50</span>, <span class=\"number\">60</span>, <span class=\"number\">70</span>, <span class=\"number\">80</span>, <span class=\"number\">90</span>]</span><br><span class=\"line\">wordcloud = WordCloud(title=<span class=\"string\">&#x27;词云&#x27;</span>,width=<span class=\"number\">1200</span>, height=<span class=\"number\">750</span>)</span><br><span class=\"line\">wordcloud.add(<span class=\"string\">&quot;编程语言&quot;</span>, name_list, value_list, word_size_range=[<span class=\"number\">50</span>, <span class=\"number\">100</span>])</span><br><span class=\"line\">wordcloud.render(<span class=\"string\">&#x27;./图像/词云.html&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824202217407.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"></p>\n",
            "tags": [
                "python",
                "数据可视化",
                "pyecharts"
            ]
        },
        {
            "id": "https://jqueryzk.github.io/2020/08/25/python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB-%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98-(%E7%88%AC%E5%8F%96%E7%BD%91%E6%98%93%E4%BA%91%E8%96%9B%E4%B9%8B%E8%B0%A6%E6%AD%8C%E5%8D%95%E9%87%8C%E6%AD%8C%E6%9B%B2%E5%B9%B6%E4%B8%8B%E8%BD%BD)/",
            "url": "https://jqueryzk.github.io/2020/08/25/python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB-%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98-(%E7%88%AC%E5%8F%96%E7%BD%91%E6%98%93%E4%BA%91%E8%96%9B%E4%B9%8B%E8%B0%A6%E6%AD%8C%E5%8D%95%E9%87%8C%E6%AD%8C%E6%9B%B2%E5%B9%B6%E4%B8%8B%E8%BD%BD)/",
            "title": "python网络爬虫-爬虫实战-(爬取网易云薛之谦歌单里歌曲并下载)",
            "date_published": "2020-08-25T13:05:52.362Z",
            "content_html": "<h1 id=\"1-导入要用到的库\"><a class=\"markdownIt-Anchor\" href=\"#1-导入要用到的库\">#</a> 1、导入要用到的库</h1>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#导入库</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">from</span> fake_useragent <span class=\"keyword\">import</span> UserAgent</span><br><span class=\"line\"><span class=\"keyword\">from</span> lxml <span class=\"keyword\">import</span> etree</span><br><span class=\"line\"><span class=\"keyword\">import</span> re</span><br></pre></td></tr></table></figure>\n<p>很多初学 python 的同学不知道如何下载第三方库，我在这介绍一种和简单的方法<br>\n 1：首先准备好下载命令</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python -m pip install 想要的库的名称  --trusted-host=pypi.python.org --trusted-host=pypi.org --trusted-host=files.pythonhosted.org</span><br></pre></td></tr></table></figure>\n<p>把自己想要下载的库的名称替换掉命令中的 &quot;想要的库的名称&quot;，比如下载 lxml 第三方库的命令如下：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python -m pip install lxml  --trusted-host=pypi.python.org --trusted-host=pypi.org --trusted-host=files.pythonhosted.org</span><br></pre></td></tr></table></figure>\n<p>2：在 Pycharm 的 Terminal 中执行这行命令<br>\n<img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824102402269.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n如图所示，回车即可。</p>\n<h1 id=\"2-分析获取网址\"><a class=\"markdownIt-Anchor\" href=\"#2-分析获取网址\">#</a> 2、分析获取网址</h1>\n<p>进入网易云官网搜索 &quot;薛之谦&quot;<br>\n<img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824102901217.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n得到一个网址为 &quot;<a href=\"https://music.163.com/#/artist?id=5781\">https://music.163.com/#/artist?id=5781</a>&quot;<br>\n<img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824102959573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n很明显这不是真正的请求网址，检查网页，重新搜索薛之谦在 network doc 下会有一个新的请求文件点进去看到的 Request URL: <a href=\"https://music.163.com/artist?id=5781\">https://music.163.com/artist?id=5781</a> 就是我们想要的请求 url<img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824103344295.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n这时候我们可以先把这个页面的内容爬取打印出来，看一下是不是我们要的东西</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">url = <span class=\"string\">&#x27;https://music.163.com/artist?id=5781&#x27;</span></span><br><span class=\"line\">headers= &#123;</span><br><span class=\"line\">        <span class=\"string\">&quot;User-Agent&quot;</span>: UserAgent().chrome</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">result = requests.get(url, headers=headers).text</span><br><span class=\"line\">print(result)</span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/2020082410404514.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n看到这就知道确实是爬取了薛之谦第一页歌单的信息<br>\n接下来分析每一首歌的网址信息<br>\n<img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824105043124.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n用同样的方法检查后获取到<br>\n Request URL: <a href=\"https://music.163.com/song?id=1463165983\">https://music.163.com/song?id=1463165983</a><br>\n 通过简单分析可以知道 id 就记录是那一首歌</p>\n<h1 id=\"3-删选数据\"><a class=\"markdownIt-Anchor\" href=\"#3-删选数据\">#</a> 3、删选数据</h1>\n<p>我们可以看到，爬取的歌单内容里面虽然有我们想要的数据，却也有大量不需要的内容，此时我们需要删选数据获取列表中的歌曲 id，储存在一个字典中，里面每个元素为每首歌的 id</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dom =etree.HTML(result)</span><br><span class=\"line\"><span class=\"comment\"># 通过审查元素发现每首歌在&lt;a href=&quot;/song?id=417859631&quot;&gt; 中通过xpath分析得获取所有歌曲id的xpath语句为&#x27;//a[contains(@href,&quot;/song?&quot;)]/@href&#x27;</span></span><br><span class=\"line\">ids = dom.xpath(<span class=\"string\">&#x27;//ul[@class=&quot;f-hide&quot;]//li/a/@href&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">#将数据切片只需要id数值</span></span><br><span class=\"line\"><span class=\"comment\">#正则表达式</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(ids)):</span><br><span class=\"line\">    ids[i] = re.sub(<span class=\"string\">&#x27;\\D&#x27;</span>, <span class=\"string\">&#x27;&#x27;</span>, ids[i])</span><br><span class=\"line\">print(ids)</span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824105306387.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n此时我们就获得了这一页薛之谦歌单里的每一首歌的 id 值并存在了一个字典里<br>\n通过一个 for 循环验证我们的成果</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(ids)):</span><br><span class=\"line\">    <span class=\"comment\">#每一首歌的地址</span></span><br><span class=\"line\">    M_url = <span class=\"string\">f&#x27;https://music.163.com/song?id=<span class=\"subst\">&#123;ids[i]&#125;</span>&#x27;</span></span><br><span class=\"line\">    response = requests.get(M_url, headers=headers)</span><br><span class=\"line\">    html = etree.HTML(response.text)</span><br><span class=\"line\">    music_info = html.xpath(<span class=\"string\">&#x27;//title/text()&#x27;</span>)</span><br><span class=\"line\">    music_name = music_info[<span class=\"number\">0</span>].split(<span class=\"string\">&#x27;-&#x27;</span>)[<span class=\"number\">0</span>]</span><br><span class=\"line\">    singer = music_info[<span class=\"number\">0</span>].split(<span class=\"string\">&#x27;-&#x27;</span>)[<span class=\"number\">1</span>]</span><br><span class=\"line\">    print(music_name, singer) </span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824110127191.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n可以看到我们通过每一首歌的网址爬取了每一首歌的歌名和歌手名</p>\n<h1 id=\"4-获取歌源\"><a class=\"markdownIt-Anchor\" href=\"#4-获取歌源\">#</a> 4、获取歌源</h1>\n<p>接下来进入最重要的环节，获取歌源，我们之前做的只是获取到每首歌的 url 信息但那些并不可以实现播放，我们需要通过外链来生成 mp3 文件<br>\n为网易云音乐的外链地址：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">base_url = <span class=\"string\">&#x27;https://link.hhtjim.com/163/&#x27;</span></span><br></pre></td></tr></table></figure>\n<p>在这介绍一个可以获取各大音乐平台外链信息的网址  <a href=\"https://link.hhtjim.com/\">跳转</a><br>\n通过拼接每一首歌的 id 信息获得每一首歌的外链网址</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">base_url = <span class=\"string\">&#x27;https://link.hhtjim.com/163/&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(ids)):</span><br><span class=\"line\">    <span class=\"comment\">#每一首歌的地址</span></span><br><span class=\"line\">    M_url = <span class=\"string\">f&#x27;https://music.163.com/song?id=<span class=\"subst\">&#123;ids[i]&#125;</span>&#x27;</span></span><br><span class=\"line\">    response = requests.get(M_url, headers=headers)</span><br><span class=\"line\">    html = etree.HTML(response.text)</span><br><span class=\"line\">    music_info = html.xpath(<span class=\"string\">&#x27;//title/text()&#x27;</span>)</span><br><span class=\"line\">    music_name = music_info[<span class=\"number\">0</span>].split(<span class=\"string\">&#x27;-&#x27;</span>)[<span class=\"number\">0</span>]</span><br><span class=\"line\">    singer = music_info[<span class=\"number\">0</span>].split(<span class=\"string\">&#x27;-&#x27;</span>)[<span class=\"number\">1</span>]</span><br><span class=\"line\">    print(music_name, singer)</span><br><span class=\"line\">    music_url = base_url + str(ids[i]) + <span class=\"string\">&#x27;.mp3&#x27;</span></span><br><span class=\"line\">    print(music_url)</span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824111032642.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"></p>\n<h1 id=\"5-下载歌曲\"><a class=\"markdownIt-Anchor\" href=\"#5-下载歌曲\">#</a> 5、下载歌曲</h1>\n<p>在项目当前文件下建一个 music 文件夹来储存爬取的歌曲文件，文件格式为 mp3 格式 ，<br>\nwb:\t以二进制格式打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">with</span> open(<span class=\"string\">&#x27;./music/&#x27;</span>+music_name+<span class=\"string\">&#x27;.mp3&#x27;</span>, <span class=\"string\">&#x27;wb&#x27;</span>) <span class=\"keyword\">as</span> file:</span><br><span class=\"line\">       file.write(music)</span><br><span class=\"line\">   print(<span class=\"string\">&quot;正在下载第&quot;</span>+str(i+<span class=\"number\">1</span>)+<span class=\"string\">&quot;首:  &quot;</span>+music_name+singer)</span><br></pre></td></tr></table></figure>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/2020082411170898.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n<img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824112505309.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n去本地对应的文件下就可以找到这些音乐啦<img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824112615921.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n<img src= \"/img/loading.gif\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200824112727851.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDI3OTE3OA==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"><br>\n可以用任何音乐播放器播放。</p>\n<h1 id=\"6-总的代码\"><a class=\"markdownIt-Anchor\" href=\"#6-总的代码\">#</a> 6、总的代码</h1>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#导入库</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">from</span> fake_useragent <span class=\"keyword\">import</span> UserAgent</span><br><span class=\"line\"><span class=\"keyword\">from</span> lxml <span class=\"keyword\">import</span> etree</span><br><span class=\"line\"><span class=\"keyword\">import</span> re</span><br><span class=\"line\"><span class=\"comment\">#网易云官网 搜索薛之谦跳转网页后  检查  network  doc 找到该网页的</span></span><br><span class=\"line\"><span class=\"comment\">#Request URL: https://music.163.com/artist?id=5781</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#1、确定url地址(薛之谦的歌单）</span></span><br><span class=\"line\">url = <span class=\"string\">&#x27;https://music.163.com/artist?id=5781&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">#网易云音乐的外链地址</span></span><br><span class=\"line\">base_url = <span class=\"string\">&#x27;https://link.hhtjim.com/163/&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">#2、请求</span></span><br><span class=\"line\"></span><br><span class=\"line\">headers= &#123;</span><br><span class=\"line\">        <span class=\"string\">&quot;User-Agent&quot;</span>: UserAgent().chrome</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">result = requests.get(url, headers=headers).text</span><br><span class=\"line\"><span class=\"comment\"># print(result)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#3、删选数据 拿到列表中的歌曲id  为一个字典 里面有每首个的id</span></span><br><span class=\"line\">dom =etree.HTML(result)</span><br><span class=\"line\"><span class=\"comment\"># 通过审查元素发现每首歌在&lt;a href=&quot;/song?id=417859631&quot;&gt; 中通过xpath分析得获取所有歌曲id的xpath语句为&#x27;//a[contains(@href,&quot;/song?&quot;)]/@href&#x27;</span></span><br><span class=\"line\">ids = dom.xpath(<span class=\"string\">&#x27;//ul[@class=&quot;f-hide&quot;]//li/a/@href&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">#将数据切片只需要id数值</span></span><br><span class=\"line\"><span class=\"comment\">#正则表达式</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(ids)):</span><br><span class=\"line\">    ids[i] = re.sub(<span class=\"string\">&#x27;\\D&#x27;</span>, <span class=\"string\">&#x27;&#x27;</span>, ids[i])</span><br><span class=\"line\"><span class=\"comment\">#print(ids)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(ids)):</span><br><span class=\"line\">    <span class=\"comment\">#每一首歌的地址</span></span><br><span class=\"line\">    M_url = <span class=\"string\">f&#x27;https://music.163.com/song?id=<span class=\"subst\">&#123;ids[i]&#125;</span>&#x27;</span></span><br><span class=\"line\">    response = requests.get(M_url, headers=headers)</span><br><span class=\"line\">    html = etree.HTML(response.text)</span><br><span class=\"line\">    music_info = html.xpath(<span class=\"string\">&#x27;//title/text()&#x27;</span>)</span><br><span class=\"line\">    <span class=\"comment\">#print(music_info)   #[&#x27;我好像在哪见过你（电影《精灵王座》主题曲） - 薛之谦 - 单曲 - 网易云音乐&#x27;]</span></span><br><span class=\"line\">    music_name = music_info[<span class=\"number\">0</span>].split(<span class=\"string\">&#x27;-&#x27;</span>)[<span class=\"number\">0</span>]</span><br><span class=\"line\">    singer = music_info[<span class=\"number\">0</span>].split(<span class=\"string\">&#x27;-&#x27;</span>)[<span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"comment\">#print(music_name, singer)  #我好像在哪见过你（电影《精灵王座》主题曲）   薛之谦</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">#获取歌源</span></span><br><span class=\"line\">    music_url = base_url + str(ids[i]) + <span class=\"string\">&#x27;.mp3&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">#print(music_url)    #打印出每首歌的外链网址</span></span><br><span class=\"line\">    music = requests.get(music_url).content</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">#4、保存</span></span><br><span class=\"line\">    <span class=\"keyword\">with</span> open(<span class=\"string\">&#x27;./music/&#x27;</span>+music_name+<span class=\"string\">&#x27;.mp3&#x27;</span>, <span class=\"string\">&#x27;wb&#x27;</span>) <span class=\"keyword\">as</span> file:</span><br><span class=\"line\">        file.write(music)</span><br><span class=\"line\">    print(<span class=\"string\">&quot;正在下载第&quot;</span>+str(i+<span class=\"number\">1</span>)+<span class=\"string\">&quot;首:  &quot;</span>+music_name+singer)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>欢迎持续关注！</p>\n",
            "tags": [
                "python",
                "网络爬虫"
            ]
        }
    ]
}